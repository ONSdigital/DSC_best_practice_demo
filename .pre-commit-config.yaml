# Added pre-commit to check if __init__.py is added to the src folder
# install using `pre-commit install`
# skip using `git commit -m "message" --no-verify`
default_stages: [pre-commit, pre-push]

repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: check-ast
      - id: check-vcs-permalinks
      - id: check-yaml
      - id: debug-statements
      - id: check-merge-conflict
      - id: detect-private-key # detects the presence of private keys.
      - id: check-added-large-files # check for files above certain size (as likely to be data files)
        args: ['--maxkb=500']
  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.5.0
    hooks:
      - id: detect-secrets
  - repo: local
    hooks:
      - id: forbid-new-init
        name: Check if __init__.py is added to the src folder
        entry: python
        language: fail
        files: ^src/__init__.py$
      - id: vulnerability-linting-checks
        name: Run vulnerability detection checks (bandit)
        entry: uv tool run bandit -r src
        language: system
        